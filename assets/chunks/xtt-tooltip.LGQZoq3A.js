var S=Object.defineProperty;var I=Object.getPrototypeOf;var B=Reflect.get;var O=(o,e,t)=>e in o?S(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var u=(o,e,t)=>(O(o,typeof e!="symbol"?e+"":e,t),t),y=(o,e,t)=>{if(!e.has(o))throw TypeError("Cannot "+t)};var n=(o,e,t)=>(y(o,e,"read from private field"),t?t.call(o):e.get(o)),s=(o,e,t)=>{if(e.has(o))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(o):e.set(o,t)},p=(o,e,t,r)=>(y(o,e,"write to private field"),r?r.call(o,t):e.set(o,t),t);var g=(o,e,t)=>(y(o,e,"access private method"),t),T=(o,e,t)=>B(I(o),t,e);import{x as P}from"./base.Wz2wNpMD.js";import{u as R,a as q}from"./xtt-ui-utils.Ke2hgjsQ.js";import{d as V}from"./displayPopover.FOsgN6BA.js";import"./index.esm.RuPJ9LKr.js";const k=new CSSStyleSheet;k.replaceSync(':host {--tooltip-max-width:300px;--tooltip-font-size:14px;--tooltip-z-index:99999;--tooltip-bg-color:#fff;--tooltip-border-color:grey;}:host {display:contents;position:absolute;top:-9999px;left:-9999px;}#popover {visibility:hidden;position:fixed;padding:4px 8px;max-width:var(--tooltip-max-width);font-size:var(--tooltip-font-size);z-index:var(--tooltip-z-index);border:thin solid var(--tooltip-border-color);background-color:var(--tooltip-bg-color);transform-origin:bottom center;}#popover[open] {visibility:visible;animation:show 0.2s ease-out;}@keyframes show {0% {opacity:0;transform:scale(0.4);}100% {opacity:1;transform:scale(1);}}#popover::before {content:"";position:absolute;inset:0;opacity:0;z-index:-1;}#popover.top::before {inset-block-end:-10px;}#popover.bottom::before {inset-block-start:-10px;}#arrow {position:absolute;width:8px;height:8px;background-color:var(--tooltip-bg-color);border:thin solid var(--tooltip-border-color);transform-origin:center center;transform:translateX(-4px) rotate(45deg);}.top #arrow {clip-path:polygon(0 100%,100% 100%,100% 0);bottom:-5px;}.bottom #arrow {clip-path:polygon(0 0,0 100%,100% 0);top:-5px;}');var M=`<div id="popover" part="popover">
	<div id="content" part="popover-content"></div>
	<div id="arrow" part="popover-arrow"></div>
</div>
`,a,l,f,C,L,N,v,d,x,A,b,E,h;const c=class c extends P{constructor(){super(...arguments);s(this,a);s(this,f);s(this,L);s(this,x);s(this,b);u(this,"viewPadding",8);u(this,"delay",600);s(this,v,!1);s(this,d,!1);s(this,h,void 0)}static get observedAttributes(){return["for"]}connectedCallback(){this.role="tooltip",this.textContent=this.textContent.trim(),R(this)}attributeChangedCallback(t,r,m){t==="for"&&this.initTrigger(document.querySelectorAll(m))}initTrigger(t){t instanceof NodeList||Array.isArray(t)?t.forEach(g(this,b,E),this):(t==null?void 0:t.nodeType)===1&&g(this,b,E).call(this,t)}refreshTooltipContent(t){t.dataset.xttTooltip&&(this.textContent=t.dataset.xttTooltip)}show(t){if(n(this,a,l).hasAttribute("open")||!t.dispatchEvent(new CustomEvent("xtt-tooltip-show",{detail:{tooltip:this},bubbles:!1,cancelable:!0})))return!1;this.refreshTooltipContent(t),V(t,n(this,a,l),["block-start","block-end"]),p(this,h,setTimeout(()=>{n(this,a,l).setAttribute("open",!0)},this.delay??16))}hide(){n(this,h)&&(clearTimeout(n(this,h)),p(this,h,null)),n(this,a,l).removeAttribute("open")}get textContent(){return n(this,f,C).textContent||super.textContent}set textContent(t){n(this,f,C).textContent=t,this.ariaLabel=t.trim()}};a=new WeakSet,l=function(){return this.shadowRoot.getElementById("popover")},f=new WeakSet,C=function(){return this.shadowRoot.getElementById("content")},L=new WeakSet,N=function(){return this.shadowRoot.getElementById("arrow")},v=new WeakMap,d=new WeakMap,x=new WeakSet,A=function(t){const r=(i,z)=>{if((i==null?void 0:i.type)==="mouseleave"&&!z){setTimeout(()=>{r(i,!0)},0);return}((i==null?void 0:i.type)!=="mouseleave"||!n(this,d))&&(this.hide(),t.removeEventListener("pointerdown",r,{once:!0}),t.removeEventListener("keydown",r,{once:!0}),t.removeEventListener("blur",r,{once:!0}),document.removeEventListener("scroll",r,{once:!0}))},m=i=>{this.textContent.trim()!==""&&(this.show(i.currentTarget??i.target),t.addEventListener("pointerdown",r,{once:!0}),t.addEventListener("keydown",r,{once:!0}),t.addEventListener("blur",r,{once:!0}),document.addEventListener("scroll",r,{once:!0}))};t.addEventListener("mouseenter",i=>{p(this,d,!0),m(i)}),t.addEventListener("mouseleave",i=>{p(this,d,!1),r(i)}),t.addEventListener("focus",m),n(this,v)||(n(this,a,l).addEventListener("mouseenter",()=>{p(this,d,!0)}),n(this,a,l).addEventListener("mouseleave",i=>{p(this,d,!1),r(i)}),p(this,v,!0))},b=new WeakSet,E=function(t){const r=t.dataset.ariaType==="labelledby"?"aria-labelledby":"aria-describedby";q(t,r,this),g(this,x,A).call(this,t),t.xttTooltipElement=this},h=new WeakMap,u(c,"templateContent",M),u(c,"stylesContent",[...T(c,c,"stylesContent"),k]);let w=c;customElements.define("xtt-tooltip",w);
