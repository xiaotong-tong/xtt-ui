import{c as d}from"./index.esm.fvrJsKlN.js";const f=(s,t,l,n,e)=>{let a=l==="block-start"?s.top-t.height-n:s.bottom+n,o=s.left+s.width/2-t.width/2;return o<e?o=e:o+t.width+e>visualViewport.width&&(o=0-e),{top:a,[o>=0?"left":"right"]:Math.abs(o),overFlow:l==="block-start"?a<e:a+t.height+e>visualViewport.height,dir:l}},b=(s,t,l,n)=>{const{viewPadding:e=8,margin:a=8}=n||{};l=l||["block-start","block-end"];const o=s.getBoundingClientRect();let c=t.getBoundingClientRect(),i;for(const r of l)if(r.startsWith("block")&&(i=f(o,c,r,a,e)),!i.overFlow)break;t.classList.remove("top","bottom"),i.dir==="block-start"?t.classList.add("top"):i.dir==="block-end"&&t.classList.add("bottom"),d(t,Object.assign({top:i.top?i.top+"px":"",bottom:i.bottom?i.bottom+"px":"",left:i.left?i.left+"px":"",right:i.right?i.right+"px":""})),t.querySelector("#arrow")&&(t.querySelector("#arrow").style.left=`max(${o.left+o.width/2-t.getBoundingClientRect().left}px, 0px)`)};export{b as d};
