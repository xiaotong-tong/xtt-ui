var A=Object.defineProperty;var y=Object.getPrototypeOf;var _=Reflect.get;var v=(l,e,t)=>e in l?A(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var c=(l,e,t)=>(v(l,typeof e!="symbol"?e+"":e,t),t),n=(l,e,t)=>{if(!e.has(l))throw TypeError("Cannot "+t)};var u=(l,e,t)=>(n(l,e,"read from private field"),t?t.call(l):e.get(l)),f=(l,e,t)=>{if(e.has(l))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(l):e.set(l,t)},h=(l,e,t,d)=>(n(l,e,"write to private field"),d?d.call(l,t):e.set(l,t),t);var b=(l,e,t)=>(n(l,e,"access private method"),t),E=(l,e,t)=>_(y(l),t,e);import{x as m}from"./base.Wz2wNpMD.js";import{a as g}from"./xtt-ui-utils.Ke2hgjsQ.js";var i;class T extends m{constructor(){super();c(this,"observeOptions",{childList:!0});f(this,i,void 0);h(this,i,new MutationObserver(t=>{t.forEach(d=>{d.type==="childList"?(d.addedNodes.forEach(o=>{this._reflectElementAdded(o),o.nodeType===Node.ELEMENT_NODE?this._reflectElementNodeAdded(o):o.nodeType===Node.TEXT_NODE&&this._reflectElementTextAdded(o)}),d.removedNodes.forEach(o=>{this._reflectElementRemoved(o),o.nodeType===Node.ELEMENT_NODE?this._reflectElementNodeRemoved(o):o.nodeType===Node.TEXT_NODE&&this._reflectElementTextRemoved(o)})):d.type==="attributes"&&this._reflectElementAttributeChanged(d.attributeName,d.oldValue,d.target.getAttribute(d.attributeName),d.target)})}))}connectedCallback(){u(this,i).observe(this,this.observeOptions)}disconnectedCallback(){u(this,i).disconnect()}_reflectElementAdded(){}_reflectElementRemoved(){}_reflectElementNodeAdded(){}_reflectElementTextAdded(){}_reflectElementNodeRemoved(){}_reflectElementTextRemoved(){}_reflectElementAttributeChanged(){}}i=new WeakMap;const p=new CSSStyleSheet;p.replaceSync(":host([disabled]) {pointer-events:none;opacity:0.5;}");function L(l){var e,t,N;return e=class extends(l==="reflect"?T:m){constructor(){super();f(this,t);c(this,"focusableElement",this)}static get observedAttributes(){return["disabled","autofocus"]}connectedCallback(){var s;(s=super.connectedCallback)==null||s.call(this),b(this,t,N).call(this),this._addA11yWithLabel(),this.focusableElement.hasAttribute("autofocus")&&this.focusableElement.focus()}disconnectedCallback(){}attributeChangedCallback(s,a,r){s==="disabled"?this.disabled=r!==null:s==="autofocus"&&(this.autofocus=r!==null)}_addA11yWithLabel(){let s=Array.from(this.labels);s.length&&(this.focusableElement!==this&&(s=s.map(a=>{const r=a.cloneNode(!0);return r.hidden=!0,this.shadowRoot.appendChild(r),r})),g(this.focusableElement,"aria-labelledby",s))}get labels(){return this.id?this.getRootNode().querySelectorAll(`label[for="${this.id}"]`):document.createElement(null).childNodes}get disabled(){return this.focusableElement.hasAttribute("disabled")}set disabled(s){this.focusableElement.toggleAttribute("disabled",s)}get autofocus(){return this.focusableElement.hasAttribute("autofocus")}set autofocus(s){this.focusableElement.toggleAttribute("autofocus",s)}},t=new WeakSet,N=function(){var s;(s=this.labels)==null||s.forEach(a=>{a.addEventListener("click",r=>{this.focusableElement.focus()})})},c(e,"stylesContent",[...E(e,e,"stylesContent"),p]),e}export{L as x};
