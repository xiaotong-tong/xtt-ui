var b=Object.defineProperty;var h=Object.getPrototypeOf;var f=Reflect.get;var m=(l,e,s)=>e in l?b(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s;var o=(l,e,s)=>(m(l,typeof e!="symbol"?e+"":e,s),s),E=(l,e,s)=>{if(!e.has(l))throw TypeError("Cannot "+s)};var r=(l,e,s)=>{if(e.has(l))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(l):e.set(l,s)};var u=(l,e,s)=>(E(l,e,"access private method"),s),n=(l,e,s)=>f(h(l),s,e);import{x as p}from"./base.Wz2wNpMD.js";import{x as g}from"./reflect.QJLKHJUk.js";import{a as A}from"./xtt-ui-utils.Ke2hgjsQ.js";const c=new CSSStyleSheet;c.replaceSync(":host([disabled]) {pointer-events:none;opacity:0.5;}");function v(l){var e,s,d;return e=class extends(l==="reflect"?g:p){constructor(){super();r(this,s);o(this,"focusableElement",this)}static get observedAttributes(){return["disabled","autofocus"]}connectedCallback(){var t;(t=super.connectedCallback)==null||t.call(this),u(this,s,d).call(this),this._addA11yWithLabel(),this.focusableElement.hasAttribute("autofocus")&&this.focusableElement.focus()}disconnectedCallback(){}attributeChangedCallback(t,i,a){t==="disabled"?this.disabled=a!==null:t==="autofocus"&&(this.autofocus=a!==null)}_addA11yWithLabel(){let t=Array.from(this.labels);t.length&&(this.focusableElement!==this&&(t=t.map(i=>{const a=i.cloneNode(!0);return a.hidden=!0,this.shadowRoot.appendChild(a),a})),A(this.focusableElement,"aria-labelledby",t))}get labels(){return this.id?this.getRootNode().querySelectorAll(`label[for="${this.id}"]`):document.createElement(null).childNodes}get disabled(){return this.focusableElement.hasAttribute("disabled")}set disabled(t){if(this.focusableElement.toggleAttribute("disabled",t),this.getAttribute("disabled")!==t){if(t===null){this.focusableElement.removeAttribute("disabled");return}this.toggleAttribute("disabled",t)}}get autofocus(){return this.focusableElement.hasAttribute("autofocus")}set autofocus(t){this.focusableElement.toggleAttribute("autofocus",t)}},s=new WeakSet,d=function(){var t;(t=this.labels)==null||t.forEach(i=>{i.addEventListener("click",a=>{this.focusableElement.focus()})})},o(e,"stylesContent",[...n(e,e,"stylesContent"),c]),e}export{v as x};
