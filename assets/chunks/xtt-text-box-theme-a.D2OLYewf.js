var W=Object.defineProperty;var X=Object.getPrototypeOf;var j=Reflect.get;var G=(o,s,t)=>s in o?W(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var N=(o,s,t)=>(G(o,typeof s!="symbol"?s+"":s,t),t),M=(o,s,t)=>{if(!s.has(o))throw TypeError("Cannot "+t)};var n=(o,s,t)=>(M(o,s,"read from private field"),t?t.call(o):s.get(o)),a=(o,s,t)=>{if(s.has(o))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(o):s.set(o,t)};var l=(o,s,t)=>(M(o,s,"access private method"),t),Y=(o,s,t)=>j(X(o),t,s);import{x as J}from"./reflect.u-rLhaQE.js";import{c as h}from"./index.esm.qbmuVXDe.js";import"./base.C5bbslE4.js";const P=new CSSStyleSheet;P.replaceSync(":host {--text-box-color:var(--primary-color);--text-box-blur-color:var(--text-box-color);--text-box-width:2px;--text-box-blur-width:calc(var(--text-box-width) * 1.5);}:host {display:block;position:relative;width:200px;height:100px;padding:0.5em 1.2em 1.2em;}#text {height:100%;overflow:hidden;position:relative;}#box {position:absolute;inset:0;width:100%;height:100%;z-index:-1;fill:none;stroke:var(--text-box-color);stroke-width:var(--text-box-width);}#oLine,#oLineBack {transform:rotate(-40deg);}:host(.hasChildList) :is(#oLine,#oLineBack) {animation:rotate 2s linear infinite;}@keyframes rotate {0% {transform:rotate(0deg);}100% {transform:rotate(360deg);}}#lineBack,#oLineBack {filter:blur(max(var(--text-box-blur-width),4px));}#leftShape {float:left;height:100%;opacity:0;}#rightShape {float:right;height:100%;opacity:0;}#nextMark {display:none;position:absolute;inset-block-end:0;inset-inline-end:0;width:8px;height:8px;background-color:var(--text-box-color);clip-path:polygon(0 0,100% 0,50% 100%);animation:rotateY 2s linear infinite;}:host(.hasChildList:not(.last)) #nextMark {display:block;}@keyframes rotateY {0% {transform:rotateY(0deg);}100% {transform:rotateY(360deg);}}");var K=`<!-- <div id="box"></div>
<div id="box-blur"></div> -->
<svg id="box" viewBox="0 0 24 24" part="svg">
	<polyline id="line" part="line"/>
	<polyline id="lineBack" part="lineBack"/>
	<polyline id="oLine" part="oLine"/>
	<polyline id="oLineBack" part="oLineBack"/>
</svg>

<div id="text" part="text">
	<div id="leftShape"></div>
	<div id="rightShape"></div>
	<div id="textContent"></div>
	<div id="nextMark" part="nextMark"></div>
</div>
`,g,k,$,L,y,V,C,z,v,R,r,x,f,w,d,m,B,D,S,F,c,u,E,H,b,q;const p=class p extends J{constructor(){super(...arguments);a(this,g);a(this,$);a(this,y);a(this,C);a(this,v);a(this,r);a(this,f);a(this,d);a(this,B);a(this,S);a(this,c);a(this,E);a(this,b)}static get observedAttributes(){return["skew"]}get childElementTagName(){return"XTT-P"}attributeChangedCallback(t,e,i){t==="skew"&&(this.skew=i)}connectedCallback(){super.connectedCallback(),l(this,g,k).call(this),l(this,E,H).call(this)}_reflectElementAdded(){l(this,g,k).call(this)}_reflectElementRemoved(){l(this,g,k).call(this)}get skew(){return this.getAttribute("skew")}set skew(t){if(t===null){this.removeAttribute("skew");return}if(this.skew!==t){this.setAttribute("skew",t);const e=this.getBoundingClientRect();l(this,b,q).call(this,e.width,e.height)}}};g=new WeakSet,k=function(){var t;if((t=this.querySelectorAll(this.childElementTagName))!=null&&t.length){const e=this.querySelectorAll(this.childElementTagName);let i=this.querySelector(this.childElementTagName+".active");i||(i=e[0],i.classList.add("active")),l(this,$,L).call(this),n(this,c,u).replaceChildren(...i.cloneNode(!0).childNodes),this.classList.add("hasChildList"),l(this,y,V).call(this)}else{const e=document.createDocumentFragment();this.childNodes.forEach(i=>{e.appendChild(i.cloneNode(!0))}),n(this,c,u).replaceChildren(e)}},$=new WeakSet,L=function(){if(this.classList.contains("hasChildList")){const t=this.querySelectorAll(this.childElementTagName);Array.from(t).findIndex(i=>i.classList.contains("active"))===t.length-1&&this.classList.add("last")}},y=new WeakSet,V=function(){this.addEventListener("click",t=>{if(this.classList.contains("hasChildList")&&!this.classList.contains("last")){const e=this.querySelectorAll(this.childElementTagName),i=Array.from(e).findIndex(A=>A.classList.contains("active"));i<e.length-1&&(e[i].classList.remove("active"),e[i+1].classList.add("active"),n(this,c,u).replaceChildren(...e[i+1].cloneNode(!0).childNodes),l(this,$,L).call(this))}}),this.addEventListener("auxclick",t=>{if(this.classList.contains("hasChildList")){const e=this.querySelectorAll(this.childElementTagName),i=Array.from(e).findIndex(A=>A.classList.contains("active"));i>0&&(e[i].classList.remove("active"),e[i-1].classList.add("active"),n(this,c,u).replaceChildren(...e[i-1].cloneNode(!0).childNodes),l(this,$,L).call(this)),this.classList.remove("last")}})},C=new WeakSet,z=function(){return this.shadowRoot.getElementById("box")},v=new WeakSet,R=function(){return this.shadowRoot.getElementById("line")},r=new WeakSet,x=function(){return this.shadowRoot.getElementById("oLine")},f=new WeakSet,w=function(){return this.shadowRoot.getElementById("lineBack")},d=new WeakSet,m=function(){return this.shadowRoot.getElementById("oLineBack")},B=new WeakSet,D=function(){return this.shadowRoot.getElementById("leftShape")},S=new WeakSet,F=function(){return this.shadowRoot.getElementById("rightShape")},c=new WeakSet,u=function(){return this.shadowRoot.getElementById("textContent")},E=new WeakSet,H=function(){const t=this.getBoundingClientRect();n(this,C,z).setAttribute("viewBox",`-2 -2 ${t.width+4} ${t.height+14}`),l(this,b,q).call(this,t.width,t.height)},b=new WeakSet,q=function(t,e){if(!this.skew)n(this,v,R).setAttribute("points",`${t*.1},${e} 0,${e} 0,0 ${t},0 ${t},${e} ${t*.2},${e}`),n(this,f,w).setAttribute("points",`${t*.1},${e} 0,${e} 0,0 ${t},0 ${t},${e} ${t*.2},${e}`),n(this,r,x).setAttribute("points",`${t*.1},${e} ${t*.2},${e}`),h(n(this,r,x),"transform-origin",`${t*.15}px calc(100% - 14px)`),n(this,d,m).setAttribute("points",`${t*.1},${e} ${t*.2},${e}`),h(n(this,d,m),"transform-origin",`${t*.15}px calc(100% - 14px)`);else{const i=Number(this.skew);n(this,v,R).setAttribute("points",`${i+t*.1},${e} ${i},${e} 0,0 ${t-i},0 ${t},${e} ${i+t*.2},${e}`),n(this,f,w).setAttribute("points",`${i+t*.1},${e} ${i},${e} 0,0 ${t-i},0 ${t},${e} ${i+t*.2},${e}`),n(this,r,x).setAttribute("points",`${i+t*.1},${e} ${i+t*.2},${e}`),h(n(this,r,x),"transform-origin",`${i+t*.15}px calc(100% - 14px)`),n(this,d,m).setAttribute("points",`${i+t*.1},${e} ${i+t*.2},${e}`),h(n(this,d,m),"transform-origin",`${i+t*.15}px calc(100% - 14px)`),h(n(this,B,D),{"shape-outside":`polygon(0 0, ${i}px ${e}px, 0 ${e}px)`,width:`${i}px`}),h(n(this,S,F),{"shape-outside":`polygon(0 0, ${i}px 0, ${i}px ${e}px)`,width:`${i}px`})}},N(p,"templateContent",K),N(p,"stylesContent",[...Y(p,p,"stylesContent"),P]);let I=p;customElements.define("xtt-text-box-theme-a",I);
