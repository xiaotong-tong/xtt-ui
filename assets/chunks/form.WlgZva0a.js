var N=Object.defineProperty;var g=Object.getPrototypeOf;var y=Reflect.get;var _=(s,e,t)=>e in s?N(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var c=(s,e,t)=>(_(s,typeof e!="symbol"?e+"":e,t),t),n=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var u=(s,e,t)=>(n(s,e,"read from private field"),t?t.call(s):e.get(s)),b=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},f=(s,e,t,d)=>(n(s,e,"write to private field"),d?d.call(s,t):e.set(s,t),t);var h=(s,e,t)=>(n(s,e,"access private method"),t),E=(s,e,t)=>y(g(s),t,e);import{x as m}from"./base.Wz2wNpMD.js";import{a as v}from"./xtt-ui-utils.Ke2hgjsQ.js";var o;class T extends m{constructor(){super();c(this,"observeOptions",{childList:!0});b(this,o,void 0);f(this,o,new MutationObserver(t=>{t.forEach(d=>{d.type==="childList"?(d.addedNodes.forEach(i=>{this._reflectElementAdded(i),i.nodeType===Node.ELEMENT_NODE?this._reflectElementNodeAdded(i):i.nodeType===Node.TEXT_NODE&&this._reflectElementTextAdded(i)}),d.removedNodes.forEach(i=>{this._reflectElementRemoved(i),i.nodeType===Node.ELEMENT_NODE?this._reflectElementNodeRemoved(i):i.nodeType===Node.TEXT_NODE&&this._reflectElementTextRemoved(i)})):d.type==="attributes"&&this._reflectElementAttributeChanged(d.attributeName,d.oldValue,d.target.getAttribute(d.attributeName),d.target)})}))}connectedCallback(){u(this,o).observe(this,this.observeOptions)}disconnectedCallback(){u(this,o).disconnect()}_reflectElementAdded(){}_reflectElementRemoved(){}_reflectElementNodeAdded(){}_reflectElementTextAdded(){}_reflectElementNodeRemoved(){}_reflectElementTextRemoved(){}_reflectElementAttributeChanged(){}}o=new WeakMap;const p=new CSSStyleSheet;p.replaceSync(":host([disabled]) {pointer-events:none;opacity:0.5;}");function L(s){var e,t,A;return e=class extends(s==="reflect"?T:m){constructor(){super();b(this,t);c(this,"focusableElement",this)}static get observedAttributes(){return["disabled","autofocus"]}connectedCallback(){var l;(l=super.connectedCallback)==null||l.call(this),h(this,t,A).call(this),this._addA11yWithLabel(),this.focusableElement.hasAttribute("autofocus")&&this.focusableElement.focus()}disconnectedCallback(){}attributeChangedCallback(l,a,r){l==="disabled"?this.disabled=r!==null:l==="autofocus"&&(this.autofocus=r!==null)}_addA11yWithLabel(){let l=Array.from(this.labels);l.length&&(this.focusableElement!==this&&(l=l.map(a=>{const r=a.cloneNode(!0);return r.hidden=!0,this.shadowRoot.appendChild(r),r})),v(this.focusableElement,"aria-labelledby",l))}get labels(){return this.id?this.getRootNode().querySelectorAll(`label[for="${this.id}"]`):document.createElement(null).childNodes}get disabled(){return this.focusableElement.hasAttribute("disabled")}set disabled(l){if(this.focusableElement.toggleAttribute("disabled",l),this.getAttribute("disabled")!==l){if(l===null){this.focusableElement.removeAttribute("disabled");return}this.toggleAttribute("disabled",l)}}get autofocus(){return this.focusableElement.hasAttribute("autofocus")}set autofocus(l){this.focusableElement.toggleAttribute("autofocus",l)}},t=new WeakSet,A=function(){var l;(l=this.labels)==null||l.forEach(a=>{a.addEventListener("click",r=>{this.focusableElement.focus()})})},c(e,"stylesContent",[...E(e,e,"stylesContent"),p]),e}export{L as x};
