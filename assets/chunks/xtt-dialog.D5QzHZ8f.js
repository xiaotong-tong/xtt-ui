var N=Object.defineProperty;var P=Object.getPrototypeOf;var q=Reflect.get;var z=(i,s,t)=>s in i?N(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var x=(i,s,t)=>(z(i,typeof s!="symbol"?s+"":s,t),t),k=(i,s,t)=>{if(!s.has(i))throw TypeError("Cannot "+t)};var r=(i,s,t)=>(k(i,s,"read from private field"),t?t.call(i):s.get(i)),l=(i,s,t)=>{if(s.has(i))throw TypeError("Cannot add the same private member more than once");s instanceof WeakSet?s.add(i):s.set(i,t)},g=(i,s,t,e)=>(k(i,s,"write to private field"),e?e.call(i,t):s.set(i,t),t);var f=(i,s,t)=>(k(i,s,"access private method"),t),S=(i,s,t)=>q(P(i),t,s);import{x as F}from"./base.C5bbslE4.js";import{u as L}from"./xtt-ui-utils.BrAGWgIr.js";const I=new CSSStyleSheet;I.replaceSync(":host {display:block;}#dialog {border:none;margin-block-start:10vh;min-width:300px;}:host([align-center]) #dialog {margin-block-start:auto;}#dialog::backdrop {background-color:#00000080;}#dialog:focus {outline:none;}#header {display:flex;justify-content:start;align-items:center;margin-block-end:8px;}::slotted(.close) {order:99;margin-inline-start:auto;font-size:24px;border:none;}#footer {display:flex;justify-content:flex-end;margin-block-start:8px;column-gap:8px;}");var K=`<dialog id="dialog" part="dialog">
	<div id="header" part="header">
		<slot name="header" id="headerSlot"></slot>
	</div>
	<div id="content" part="content">
		<slot></slot>
	</div>
	<div id="footer" part="footer">
		<slot name="footer" id="footerSlot"></slot>
	</div>
</dialog>
`,b,R,c,m,A,C,H,a,d,w,M,B,O,E,T,y,j,p,u;const h=class h extends F{constructor(){super();l(this,b);l(this,m);l(this,C);l(this,a);l(this,w);l(this,B);l(this,E);l(this,y);l(this,c,null);l(this,p,null);l(this,u,!1)}static get observedAttributes(){return["title","modal-close","align-center"]}connectedCallback(){L(this),f(this,b,R).call(this),f(this,C,H).call(this),r(this,a,d).addEventListener("click",t=>{if(!this.modalClose)return;const e=t.clientX,o=t.clientY,n=r(this,a,d).getBoundingClientRect();(e<n.left||e>n.right||o<n.top||o>n.bottom)&&this.close()}),r(this,a,d).addEventListener("keydown",t=>{t.key==="Escape"&&(this.close(),t.preventDefault())})}attributeChangedCallback(t,e,o){t==="title"?this.title=o:t==="modal-close"?this.modalClose=o!==null:t==="align-center"&&(this.alignCenter=o!==null)}get triggerElement(){return r(this,p)}set triggerElement(t){g(this,p,t),t.ariaHasPopup="dialog",t.ariaControls=L(this).id,t.ariaExpanded="false"}open(){r(this,a,d).showModal(),r(this,a,d).focus(),this.triggerElement&&(this.triggerElement.ariaExpanded="true")}close(){var e;if(!r(this,a,d).open)return!1;this.dispatchEvent(new CustomEvent("xtt-close",{bubbles:!1,cancelable:!0}))&&((e=r(this,a,d))==null||e.close(),this.triggerElement&&(this.triggerElement.ariaExpanded="false"))}get title(){return this.getAttribute("data-xtt-title")}set title(t){r(this,u)||(this.setAttribute("data-xtt-title",t),f(this,m,A).call(this),g(this,u,!0),this.removeAttribute("title"),g(this,u,!1))}get modalClose(){return this.hasAttribute("modal-close")}set modalClose(t){if(!t){this.removeAttribute("modal-close");return}this.hasAttribute("modal-close")||this.setAttribute("modal-close","")}get alignCenter(){return this.hasAttribute("align-center")}set alignCenter(t){if(!t){this.removeAttribute("align-center");return}this.hasAttribute("align-center")||this.setAttribute("align-center","")}};b=new WeakSet,R=function(){if((()=>{const e=r(this,E,T).assignedNodes();return!(e!=null&&e.length&&!(e.length=e[0]===r(this,c)))})()){const e=document.createElement("xtt-icon-button");e.setAttribute("slot","header"),e.classList.add("close");const o=document.createElement("xtt-icon");o.setAttribute("icon","close"),e.appendChild(o),e.addEventListener("click",()=>{this.close()}),e.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),this.close())}),this.appendChild(e),f(this,m,A).call(this)}},c=new WeakMap,m=new WeakSet,A=function(){if(r(this,c)){r(this,c).textContent=this.dataset.xttTitle;return}const t=document.createElement("span");t.setAttribute("slot","header"),t.classList.add("title"),t.textContent=this.dataset.xttTitle,this.appendChild(t),g(this,c,t)},C=new WeakSet,H=function(){var t;if(!((t=r(this,y,j).assignedNodes())!=null&&t.length)){const e=document.createElement("xtt-button");e.setAttribute("slot","footer"),e.setAttribute("type","primary"),e.textContent="OK",e.addEventListener("click",()=>{this.dispatchEvent(new CustomEvent("xtt-submit",{bubbles:!1,cancelable:!0}))&&this.close()}),e.addEventListener("keydown",n=>{if(n.key==="Enter"||n.key===" "){if(n.preventDefault(),!this.dispatchEvent(new CustomEvent("xtt-submit",{bubbles:!1,cancelable:!0})))return;this.close()}});const o=document.createElement("xtt-button");o.setAttribute("slot","footer"),o.textContent="Cancel",o.addEventListener("click",()=>{this.close()}),o.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),this.close())}),this.appendChild(o),this.appendChild(e)}},a=new WeakSet,d=function(){return this.shadowRoot.getElementById("dialog")},w=new WeakSet,M=function(){return this.shadowRoot.getElementById("header")},B=new WeakSet,O=function(){return this.shadowRoot.getElementById("content")},E=new WeakSet,T=function(){return this.shadowRoot.getElementById("headerSlot")},y=new WeakSet,j=function(){return this.shadowRoot.getElementById("footerSlot")},p=new WeakMap,u=new WeakMap,x(h,"templateContent",K),x(h,"stylesContent",[...S(h,h,"stylesContent"),I]);let v=h;customElements.define("xtt-dialog",v);
